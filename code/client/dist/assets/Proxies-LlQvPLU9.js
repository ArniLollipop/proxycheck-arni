import{r as p,c as be,o as ke,a as T,b as a,w as J,d as x,e as t,u as m,f as $,n as L,g as h,v as b,h as l,i as n,j as G,F as K,k as M,t as d,l as ge}from"./index-Ba3DLgUF.js";import{_ as _e,a as we}from"./AdminLayout-BUAEztLo.js";import{_ as Ce}from"./ComponentCard.vue_vue_type_script_setup_true_lang-B9VQ5Dgb.js";import{a as V}from"./axios-2s9xPmg-.js";import{c as y}from"./createLucideIcon-DKnfIqyj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=y("ClipboardIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=y("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=y("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=y("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=y("KeyIcon",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=y("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=y("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=y("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=y("SettingsIcon",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=y("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=y("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fe={class:"space-y-5 sm:space-y-6"},De={class:"space-y-4"},Te={class:"flex flex-wrap gap-3 items-center justify-between"},Ee={class:"flex gap-2"},qe=["disabled"],Ae=["disabled"],Ne={class:"flex items-center gap-2"},Oe={class:"overflow-x-auto"},ze={class:"w-full table-auto text-sm"},Be={class:"bg-gray-2 text-left"},Re={class:"px-2 py-2"},He=["checked"],Je={key:0,class:"px-2 py-2 font-medium text-black"},Ge={key:1,class:"px-2 py-2 font-medium text-black"},Ke={key:2,class:"px-2 py-2 font-medium text-black"},Xe={key:3,class:"px-2 py-2 font-medium text-black"},Qe={key:4,class:"px-2 py-2 font-medium text-black"},We={key:5,class:"px-2 py-2 font-medium text-black"},Ye={key:6,class:"px-2 py-2 font-medium text-black"},Ze={key:7,class:"px-2 py-2 font-medium text-black"},et={key:8,class:"px-2 py-2 font-medium text-black"},tt={key:9,class:"px-2 py-2 font-medium text-black"},st={key:10,class:"px-2 py-2 font-medium text-black"},ot={key:11,class:"px-2 py-2 font-medium text-black"},at={key:12,class:"px-2 py-2 font-medium text-black"},lt={key:13,class:"px-2 py-2 font-medium text-black"},nt={key:14,class:"px-2 py-2 font-medium text-black"},rt={key:15,class:"px-2 py-2 font-medium text-black"},it={key:16,class:"px-2 py-2 font-medium text-black"},dt={key:17,class:"px-2 py-2 font-medium text-black"},ct={key:18,class:"px-2 py-2 font-medium text-black"},ut={class:"px-2 py-2"},pt=["checked","onChange","disabled"],mt={key:0,class:"px-2 py-2"},xt={class:"flex items-center gap-1"},vt={key:2,class:"text-xs text-bodydark"},yt={key:3,class:"text-xs text-primary font-medium"},ft={key:1,class:"px-2 py-2 text-black"},ht={key:2,class:"px-2 py-2 text-black text-xs"},bt={key:3,class:"px-2 py-2 text-black text-xs"},kt={key:4,class:"px-2 py-2 text-black font-mono text-xs"},gt={key:5,class:"px-2 py-2 text-black font-mono text-xs"},_t={key:6,class:"px-2 py-2 font-mono text-xs"},wt={class:"flex flex-col"},Ct={key:0,class:"text-xs text-bodydark"},St={key:1,class:"text-xs text-danger font-medium"},It={key:7,class:"px-2 py-2 text-black text-xs"},Pt={key:8,class:"px-2 py-2 text-black text-xs"},$t={key:9,class:"px-2 py-2 text-black text-xs"},Lt={key:10,class:"px-2 py-2"},Mt={class:"flex items-center gap-1"},Vt={class:"text-black font-mono text-xs"},jt=["onClick"],Ut={key:11,class:"px-2 py-2"},Ft={class:"flex items-center gap-1"},Dt={class:"text-black font-mono text-xs"},Tt=["onClick","title"],Et={key:12,class:"px-2 py-2"},qt={key:13,class:"px-2 py-2"},At={class:"flex items-center gap-1"},Nt={class:"text-black text-xs"},Ot={key:14,class:"px-2 py-2 text-black text-xs"},zt={key:15,class:"px-2 py-2 text-black text-xs"},Bt={key:16,class:"px-2 py-2 text-black text-xs"},Rt={key:17,class:"px-2 py-2 text-black text-xs"},Ht={key:18,class:"px-2 py-2"},Jt={class:"flex flex-col gap-1"},Gt=["onClick"],Kt=["onClick"],Xt={class:"px-2 py-2"},Qt={class:"flex gap-1"},Wt=["onClick"],Yt=["onClick"],Zt=["onClick"],es=["onClick"],ts=["onClick"],ss={key:0},os=["colspan"],as={class:"w-full max-w-2xl rounded-lg bg-white p-6 max-h-[80vh] overflow-y-auto"},ls={class:"grid grid-cols-2 gap-3"},ns=["onUpdate:modelValue"],rs={class:"text-sm text-black"},is={class:"w-full max-w-2xl rounded-lg bg-white p-6 max-h-[80vh] overflow-y-auto"},ds={class:"mb-4 text-xl font-semibold text-black"},cs={class:"grid grid-cols-2 gap-4"},us={class:"col-span-2"},ps={class:"flex justify-end gap-3"},ms={type:"submit",class:"rounded-md bg-primary px-4 py-2 text-white hover:bg-opacity-90"},xs={class:"w-full max-w-lg rounded-lg bg-white p-6"},vs={class:"flex justify-end gap-3"},ys=["disabled"],Cs={__name:"Proxies",setup(fs){const Q=p("Proxies"),f=p([]),u=p([]),j=p(""),E=p(!1),g=p(!1),_=p(!1),U=p(!1),w=p(!1),v=p(new Set),C=p(null),q=p(null),S=p({}),W={status:"Status",client:"Client/Tenant",modemId:"Modem ID",pcId:"PC ID/Address",serverIp:"Server IP",port:"Port",realIp:"Real IP",country:"Country",operator:"Operator",phone:"Phone",username:"Username",password:"Password",uptime:"Uptime %",latency:"Latency",download:"Speed â†“",upload:"Speed â†‘",traffic24h:"Traffic 24h",trafficLeft:"Traffic Left",logs:"Logs Analysis"},r=p({status:!0,client:!0,modemId:!0,pcId:!1,serverIp:!0,port:!0,realIp:!0,country:!0,operator:!0,phone:!0,username:!0,password:!0,uptime:!0,latency:!0,download:!0,upload:!0,traffic24h:!1,trafficLeft:!1,logs:!0}),c=p({id:"",name:"",ip:"",port:"",username:"",password:"",phone:"",contacts:""}),Y=be(()=>{if(!j.value)return f.value;const o=j.value.toLowerCase();return f.value.filter(e=>{var s,i,k,D,B,R,H;return((s=e.name)==null?void 0:s.toLowerCase().includes(o))||((i=e.ip)==null?void 0:i.toLowerCase().includes(o))||((k=e.username)==null?void 0:k.toLowerCase().includes(o))||((D=e.realIP)==null?void 0:D.toLowerCase().includes(o))||((B=e.realCountry)==null?void 0:B.toLowerCase().includes(o))||((R=e.phone)==null?void 0:R.toLowerCase().includes(o))||((H=e.contacts)==null?void 0:H.toLowerCase().includes(o))})}),Z=()=>Object.values(r.value).filter(o=>o).length+2,I=o=>{const e=o.uptime+o.failures*15;return e===0?100:o.uptime/e*100},ee=o=>{if(!o)return 0;const e=Date.now()-new Date(o).getTime();return Math.floor(e/6e4)},te=o=>{S.value[o]=!S.value[o]},O=async o=>{try{await navigator.clipboard.writeText(o),alert("Copied to clipboard!")}catch(e){console.error("Failed to copy:",e)}},se=o=>{const e=`${o.ip}:${o.port}:${o.username}:${o.password}`;O(e)},oe=()=>{localStorage.setItem("proxyColumns",JSON.stringify(r.value)),U.value=!1},ae=()=>{r.value={status:!0,client:!0,modemId:!0,pcId:!1,serverIp:!0,port:!0,realIp:!0,country:!0,operator:!0,phone:!0,username:!0,password:!0,uptime:!0,latency:!0,download:!0,upload:!0,traffic24h:!1,trafficLeft:!1,logs:!0}},le=()=>{const o=localStorage.getItem("proxyColumns");o&&(r.value=JSON.parse(o))},P=async()=>{try{const o=await V.get("/api/proxy");f.value=o.data.data||[]}catch(o){console.error("Failed to fetch proxies:",o)}},ne=async()=>{try{await V.post("/api/proxy",c.value),await P(),F(),A()}catch(o){console.error("Failed to create proxy:",o),alert("Failed to create proxy")}},re=async()=>{try{await V.put(`/api/proxy/${c.value.id}`,c.value),await P(),F(),A()}catch(o){console.error("Failed to update proxy:",o),alert("Failed to update proxy")}},ie=async o=>{if(confirm("Are you sure you want to delete this proxy?"))try{await V.delete(`/api/proxy/${o}`),await P()}catch(e){console.error("Failed to delete proxy:",e),alert("Failed to delete proxy")}},de=o=>{c.value={...o},g.value=!0},ce=o=>{alert(`Viewing details for ${o.name||o.ip}`)},ue=async o=>{u.value=[o],await z()},pe=o=>{const e=u.value.indexOf(o);e>-1?u.value.splice(e,1):u.value.push(o)},me=()=>{u.value.length===f.value.length?u.value=[]:u.value=f.value.map(o=>o.id)},xe=()=>{const o=u.value.join(",");window.location.href=`/api/export/selected?ids=${o}`},z=async()=>{if(u.value.length===0)return;w.value=!0,v.value=new Set(u.value);const o=u.value.join(","),e=new EventSource(`/api/verify-batch?ids=${o}`);e.addEventListener("start",s=>{const i=JSON.parse(s.data);console.log(`Starting verification ${i.current}/${i.total} for proxy ${i.id}`)}),e.addEventListener("progress",s=>{const i=JSON.parse(s.data),k=f.value.findIndex(D=>D.id===i.id);k>-1&&(f.value[k]=i),v.value.delete(i.id)}),e.addEventListener("complete",()=>{w.value=!1,v.value.clear(),e.close(),u.value=[]}),e.onerror=s=>{console.error("SSE error:",s),w.value=!1,v.value.clear(),e.close()}},ve=o=>{var s;const e=o.target;C.value=((s=e.files)==null?void 0:s[0])||null},ye=async()=>{if(!C.value)return;const o=new FormData;o.append("file",C.value);try{const e=await V.post("/api/import",o,{headers:{"Content-Type":"multipart/form-data"}});alert(e.data.message),await P(),_.value=!1,C.value=null,q.value&&(q.value.value="")}catch(e){console.error("Failed to import proxies:",e),alert("Failed to import proxies")}},fe=o=>{window.location.href=`/ip-logs?proxy_id=${o}`},he=o=>{window.location.href=`/speed-logs?proxy_id=${o}`},F=()=>{E.value=!1,g.value=!1,A()},A=()=>{c.value={id:"",name:"",ip:"",port:"",username:"",password:"",phone:"",contacts:""}};return ke(()=>{le(),P()}),(o,e)=>(a(),T(we,null,{default:J(()=>[x(_e,{pageTitle:Q.value},null,8,["pageTitle"]),t("div",Fe,[x(Ce,{title:"Proxy Management"},{default:J(()=>[t("div",De,[t("div",Te,[t("div",Ee,[t("button",{onClick:e[0]||(e[0]=s=>E.value=!0),class:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-center font-medium text-white hover:bg-opacity-90"},[x(m(Me),{class:"w-4 h-4 mr-2"}),e[15]||(e[15]=$(" Add Proxy "))]),t("button",{onClick:e[1]||(e[1]=s=>_.value=!0),class:"inline-flex items-center justify-center rounded-md bg-success px-4 py-2 text-center font-medium text-white hover:bg-opacity-90"},[x(m(je),{class:"w-4 h-4 mr-2"}),e[16]||(e[16]=$(" Import "))]),t("button",{onClick:xe,disabled:u.value.length===0,class:"inline-flex items-center justify-center rounded-md bg-secondary px-4 py-2 text-center font-medium text-white hover:bg-opacity-90 disabled:opacity-50"},[x(m(Ie),{class:"w-4 h-4 mr-2"}),e[17]||(e[17]=$(" Export Selected "))],8,qe),t("button",{onClick:z,disabled:u.value.length===0||w.value,class:"inline-flex items-center justify-center rounded-md bg-warning px-4 py-2 text-center font-medium text-white hover:bg-opacity-90 disabled:opacity-50"},[x(m(N),{class:L(["w-4 h-4 mr-2",{"animate-spin":w.value}])},null,8,["class"]),e[18]||(e[18]=$(" Verify Selected "))],8,Ae),t("button",{onClick:e[2]||(e[2]=s=>U.value=!0),class:"inline-flex items-center justify-center rounded-md border border-stroke px-4 py-2 text-center font-medium hover:bg-gray"},[x(m(X),{class:"w-4 h-4 mr-2"}),e[19]||(e[19]=$(" Columns "))])]),t("div",Ne,[h(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>j.value=s),type:"text",placeholder:"Search proxies...",class:"rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,j.value]])])]),t("div",Oe,[t("table",ze,[t("thead",null,[t("tr",Be,[t("th",Re,[t("input",{type:"checkbox",onChange:me,checked:u.value.length===f.value.length&&f.value.length>0,class:"cursor-pointer"},null,40,He)]),r.value.status?(a(),l("th",Je," Status ")):n("",!0),r.value.client?(a(),l("th",Ge," Client ")):n("",!0),r.value.modemId?(a(),l("th",Ke," Modem ID ")):n("",!0),r.value.pcId?(a(),l("th",Xe," PC ID ")):n("",!0),r.value.serverIp?(a(),l("th",Qe," Server IP ")):n("",!0),r.value.port?(a(),l("th",We," Port ")):n("",!0),r.value.realIp?(a(),l("th",Ye," Real IP ")):n("",!0),r.value.country?(a(),l("th",Ze," Country ")):n("",!0),r.value.operator?(a(),l("th",et," Operator ")):n("",!0),r.value.phone?(a(),l("th",tt," Phone ")):n("",!0),r.value.username?(a(),l("th",st," Username ")):n("",!0),r.value.password?(a(),l("th",ot," Password ")):n("",!0),r.value.uptime?(a(),l("th",at," Uptime ")):n("",!0),r.value.latency?(a(),l("th",lt," Latency ")):n("",!0),r.value.download?(a(),l("th",nt," Speed â†“ ")):n("",!0),r.value.upload?(a(),l("th",rt," Speed â†‘ ")):n("",!0),r.value.traffic24h?(a(),l("th",it," Traffic 24h ")):n("",!0),r.value.trafficLeft?(a(),l("th",dt," Traffic Left ")):n("",!0),r.value.logs?(a(),l("th",ct," Logs ")):n("",!0),e[20]||(e[20]=t("th",{class:"px-2 py-2 font-medium text-black"},"Actions",-1))])]),t("tbody",null,[(a(!0),l(K,null,G(Y.value,s=>(a(),l("tr",{key:s.id,class:L([{"bg-warning bg-opacity-10":v.value.has(s.id),"animate-pulse":v.value.has(s.id),"bg-danger bg-opacity-5":s.stack&&!v.value.has(s.id)},"border-b border-stroke hover:bg-gray-2"])},[t("td",ut,[t("input",{type:"checkbox",checked:u.value.includes(s.id),onChange:i=>pe(s.id),disabled:v.value.has(s.id),class:"cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"},null,40,pt)]),r.value.status?(a(),l("td",mt,[t("div",xt,[v.value.has(s.id)?(a(),T(m(N),{key:0,class:"w-4 h-4 animate-spin text-primary"})):(a(),l("span",{key:1,class:L([{"text-success":s.lastStatus===1,"text-warning":s.lastStatus===0,"text-danger":s.lastStatus===2},"text-xl"])},d(s.lastStatus===1?"ðŸŸ¢":s.lastStatus===2?"ðŸ”´":"ðŸŸ¡"),3)),s.failures>0&&!v.value.has(s.id)?(a(),l("span",vt,"("+d(s.failures)+")",1)):n("",!0),v.value.has(s.id)?(a(),l("span",yt,"Verifying...")):n("",!0)])])):n("",!0),r.value.client?(a(),l("td",ft,d(s.name||"-"),1)):n("",!0),r.value.modemId?(a(),l("td",ht,d(s.contacts||"-"),1)):n("",!0),r.value.pcId?(a(),l("td",bt," - ")):n("",!0),r.value.serverIp?(a(),l("td",kt,d(s.ip),1)):n("",!0),r.value.port?(a(),l("td",gt,d(s.port),1)):n("",!0),r.value.realIp?(a(),l("td",_t,[t("div",wt,[t("span",{class:L(s.stack?"text-danger font-semibold":"text-black")},d(s.realIP||"-"),3),s.lastCheck?(a(),l("span",Ct," ("+d(ee(s.lastCheck))+"m ago) ",1)):n("",!0),s.stack?(a(),l("span",St," âš ï¸ IP Stuck ")):n("",!0)])])):n("",!0),r.value.country?(a(),l("td",It,d(s.realCountry||"-"),1)):n("",!0),r.value.operator?(a(),l("td",Pt,d(s.operator||"-"),1)):n("",!0),r.value.phone?(a(),l("td",$t,d(s.phone||"-"),1)):n("",!0),r.value.username?(a(),l("td",Lt,[t("div",Mt,[t("span",Vt,d(s.username),1),t("button",{onClick:i=>O(s.username),class:"text-primary hover:text-opacity-80",title:"Copy username"},[x(m(Le),{class:"w-3 h-3"})],8,jt)])])):n("",!0),r.value.password?(a(),l("td",Ut,[t("div",Ft,[t("span",Dt,d(S.value[s.id]?s.password:"***"),1),t("button",{onClick:i=>te(s.id),class:"text-bodydark hover:text-black",title:S.value[s.id]?"Hide":"Show"},[S.value[s.id]?(a(),T(m($e),{key:0,class:"w-3 h-3"})):(a(),T(m(Pe),{key:1,class:"w-3 h-3"}))],8,Tt)])])):n("",!0),r.value.uptime?(a(),l("td",Et,[t("span",{class:L([{"text-success":I(s)>=95,"text-warning":I(s)>=70&&I(s)<95,"text-danger":I(s)<70},"font-medium text-xs"])},d(I(s).toFixed(1))+"% ",3)])):n("",!0),r.value.latency?(a(),l("td",qt,[t("div",At,[t("span",Nt,d(s.lastLatency||0)+"ms",1),e[21]||(e[21]=t("span",{class:"text-bodydark text-xs"},"â†’",-1))])])):n("",!0),r.value.download?(a(),l("td",Ot,d(s.speed||0)+" Mbps ",1)):n("",!0),r.value.upload?(a(),l("td",zt,d(s.upload||0)+" Mbps ",1)):n("",!0),r.value.traffic24h?(a(),l("td",Bt," - GB ")):n("",!0),r.value.trafficLeft?(a(),l("td",Rt," - GB ")):n("",!0),r.value.logs?(a(),l("td",Ht,[t("div",Jt,[t("button",{onClick:i=>fe(s.id),class:"text-primary hover:underline text-xs text-left"}," IP Logs ",8,Gt),t("button",{onClick:i=>he(s.id),class:"text-success hover:underline text-xs"}," Speed Logs ",8,Kt)])])):n("",!0),t("td",Xt,[t("div",Qt,[t("button",{onClick:i=>ue(s.id),class:"text-primary hover:text-opacity-80",title:"Refresh/Verify"},[x(m(N),{class:"w-4 h-4"})],8,Wt),t("button",{onClick:i=>de(s),class:"text-secondary hover:text-opacity-80",title:"Settings"},[x(m(X),{class:"w-4 h-4"})],8,Yt),t("button",{onClick:i=>ce(s),class:"text-success hover:text-opacity-80",title:"View Details"},[x(m(Ve),{class:"w-4 h-4"})],8,Zt),t("button",{onClick:i=>ie(s.id),class:"text-danger hover:text-opacity-80",title:"Delete"},[x(m(Ue),{class:"w-4 h-4"})],8,es),t("button",{onClick:i=>se(s),class:"text-warning hover:text-opacity-80",title:"Copy proxy string"},[x(m(Se),{class:"w-4 h-4"})],8,ts)])])],2))),128)),f.value.length===0?(a(),l("tr",ss,[t("td",{colspan:Z(),class:"px-4 py-8 text-center text-bodydark"}," No proxies found. Add a proxy to get started. ",8,os)])):n("",!0)])])])])]),_:1})]),U.value?(a(),l("div",{key:0,class:"fixed inset-0 z-999999 flex items-center justify-center bg-black bg-opacity-50",onClick:e[4]||(e[4]=M(s=>U.value=!1,["self"]))},[t("div",as,[e[22]||(e[22]=t("h3",{class:"mb-4 text-xl font-semibold text-black"},"Column Settings",-1)),t("div",ls,[(a(),l(K,null,G(W,(s,i)=>t("label",{key:i,class:"flex items-center cursor-pointer"},[h(t("input",{"onUpdate:modelValue":k=>r.value[i]=k,type:"checkbox",class:"mr-2 cursor-pointer"},null,8,ns),[[ge,r.value[i]]]),t("span",rs,d(s),1)])),64))]),t("div",{class:"mt-6 flex justify-end gap-3"},[t("button",{onClick:ae,class:"rounded-md border border-stroke px-4 py-2 hover:bg-gray"}," Reset to Default "),t("button",{onClick:oe,class:"rounded-md bg-primary px-4 py-2 text-white hover:bg-opacity-90"}," Save ")])])])):n("",!0),E.value||g.value?(a(),l("div",{key:1,class:"fixed inset-0 z-999999 flex items-center justify-center bg-black bg-opacity-50",onClick:M(F,["self"])},[t("div",is,[t("h3",ds,d(g.value?"Edit Proxy":"Add Proxy"),1),t("form",{onSubmit:e[12]||(e[12]=M(s=>g.value?re():ne(),["prevent"])),class:"space-y-4"},[t("div",cs,[t("div",null,[e[23]||(e[23]=t("label",{class:"mb-2 block text-sm font-medium text-black"},"Client/Name",-1)),h(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>c.value.name=s),type:"text",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,c.value.name]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"mb-2 block text-sm font-medium text-black"},"IP Address *",-1)),h(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>c.value.ip=s),type:"text",required:"",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,c.value.ip]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"mb-2 block text-sm font-medium text-black"},"Port *",-1)),h(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>c.value.port=s),type:"text",required:"",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,c.value.port]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"mb-2 block text-sm font-medium text-black"},"Username *",-1)),h(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>c.value.username=s),type:"text",required:"",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,c.value.username]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"mb-2 block text-sm font-medium text-black"},"Password *",-1)),h(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>c.value.password=s),type:"password",required:"",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,c.value.password]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"mb-2 block text-sm font-medium text-black"},"Phone",-1)),h(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>c.value.phone=s),type:"text",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,c.value.phone]])]),t("div",us,[e[29]||(e[29]=t("label",{class:"mb-2 block text-sm font-medium text-black"},"Modem ID / Contacts",-1)),h(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>c.value.contacts=s),type:"text",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[b,c.value.contacts]])])]),t("div",ps,[t("button",{type:"button",onClick:F,class:"rounded-md border border-stroke px-4 py-2 hover:bg-gray"}," Cancel "),t("button",ms,d(g.value?"Update":"Create"),1)])],32)])])):n("",!0),_.value?(a(),l("div",{key:2,class:"fixed inset-0 z-999999 flex items-center justify-center bg-black bg-opacity-50",onClick:e[14]||(e[14]=M(s=>_.value=!1,["self"]))},[t("div",xs,[e[31]||(e[31]=t("h3",{class:"mb-4 text-xl font-semibold text-black"},"Import Proxies",-1)),t("form",{onSubmit:M(ye,["prevent"]),class:"space-y-4"},[t("div",null,[e[30]||(e[30]=t("label",{class:"mb-2 block text-sm font-medium text-black"}," Select file (format: ip:port:username:password|name|contacts) ",-1)),t("input",{ref_key:"fileInput",ref:q,type:"file",accept:".txt",onChange:ve,class:"w-full"},null,544)]),t("div",vs,[t("button",{type:"button",onClick:e[13]||(e[13]=s=>_.value=!1),class:"rounded-md border border-stroke px-4 py-2 hover:bg-gray"}," Cancel "),t("button",{type:"submit",disabled:!C.value,class:"rounded-md px-4 py-2 text-white hover:bg-opacity-90 disabled:opacity-50"}," Import ",8,ys)])],32)])])):n("",!0)]),_:1}))}};export{Cs as default};
