import{r as m,o as I,a as V,w as p,b as c,e as d,d as e,k as T,g as o,v as n,l as a,h as C,u as b,n as U,f as y,t as x,i as P}from"./index-BNeUlDPJ.js";import{_ as D}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-B10HOW7G.js";import{_ as O}from"./AdminLayout-CFtmi8Og.js";import{_ as v}from"./ComponentCard.vue_vue_type_script_setup_true_lang-BJgPpuPq.js";import{a as f}from"./axios-2s9xPmg-.js";import{c as k}from"./createLucideIcon-xirNMaBf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=k("SaveIcon",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=k("SendIcon",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),M={class:"space-y-5 sm:space-y-6"},j={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},B={class:"flex items-center"},A={class:"space-y-6"},E={class:"flex items-center justify-between"},F={class:"relative inline-flex cursor-pointer items-center"},R={key:0,class:"space-y-4"},H={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},z={class:"rounded-lg border border-stroke p-4"},G={class:"space-y-3"},$={class:"flex items-center cursor-pointer"},q={class:"flex items-center cursor-pointer"},Y={class:"flex items-center cursor-pointer"},J={class:"flex items-center cursor-pointer"},K={class:"flex items-center cursor-pointer"},Q={class:"flex-1"},W={class:"flex items-center justify-between"},X=["disabled"],Z={class:"flex items-center cursor-pointer"},_={class:"flex-1"},ee={class:"flex items-center justify-between"},te=["disabled"],se={class:"flex gap-3"},le=["disabled"],oe={class:"flex justify-end"},ne=["disabled"],ce={__name:"Settings",setup(re){const g=m("Settings"),u=m(!1),i=m(!1),s=m({url:"",timeout:5,checkIPInterval:15,speedCheckInterval:360,username:"",password:"",skipSSLVerify:!0,telegramEnabled:!1,telegramToken:"",telegramChatID:"",notifyOnDown:!0,notifyOnRecovery:!0,notifyOnIPChange:!1,notifyOnIPStuck:!0,notifyOnLowSpeed:!1,lowSpeedThreshold:10,notifyDailySummary:!1,dailySummaryTime:"09:00"}),w=async()=>{try{const r=await f.get("/api/settings");s.value={...s.value,...r.data.data}}catch(r){console.error("Failed to fetch settings:",r)}},S=async()=>{u.value=!0;try{await f.put("/api/settings",s.value),alert("Settings saved successfully!")}catch(r){console.error("Failed to save settings:",r),alert("Failed to save settings")}finally{u.value=!1}},h=async()=>{var r,t;i.value=!0;try{const l=await f.post("/api/testNotification",{message:"This is a test notification from Proxy Checker!"});alert(l.data.message||"Test notification sent successfully!")}catch(l){console.error("Failed to send test notification:",l),alert(((t=(r=l.response)==null?void 0:r.data)==null?void 0:t.error)||"Failed to send test notification")}finally{i.value=!1}};return I(()=>{w()}),(r,t)=>(c(),V(O,null,{default:p(()=>[d(D,{pageTitle:g.value},null,8,["pageTitle"]),e("div",M,[e("form",{onSubmit:T(S,["prevent"]),class:"space-y-6"},[d(v,{title:"General Settings"},{default:p(()=>[e("div",j,[e("div",null,[t[18]||(t[18]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"Check URL",-1)),o(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.url=l),type:"text",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.url]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"Timeout (seconds)",-1)),o(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.timeout=l),type:"number",min:"1",max:"300",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.timeout,void 0,{number:!0}]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"IP Check Interval (minutes)",-1)),o(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.checkIPInterval=l),type:"number",min:"1",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.checkIPInterval,void 0,{number:!0}]]),t[21]||(t[21]=e("p",{class:"mt-1 text-xs text-bodydark"}," How often to check proxy IPs (recommended: 15-30 min) ",-1))]),e("div",null,[t[22]||(t[22]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"Speed Check Interval (minutes)",-1)),o(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.speedCheckInterval=l),type:"number",min:"1",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.speedCheckInterval,void 0,{number:!0}]]),t[23]||(t[23]=e("p",{class:"mt-1 text-xs text-bodydark"}," How often to check proxy speeds (recommended: 60-360 min) ",-1))]),e("div",null,[t[24]||(t[24]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"Username",-1)),o(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.username=l),type:"text",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.username]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"Password",-1)),o(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s.value.password=l),type:"password",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.password]])]),e("div",B,[o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>s.value.skipSSLVerify=l),type:"checkbox",id:"skipSSL",class:"mr-2 cursor-pointer"},null,512),[[a,s.value.skipSSLVerify]]),t[26]||(t[26]=e("label",{for:"skipSSL",class:"text-sm font-medium text-black cursor-pointer"}," Skip SSL Verification ",-1))])])]),_:1}),d(v,{title:"Telegram Notifications"},{default:p(()=>[e("div",A,[e("div",E,[t[28]||(t[28]=e("div",null,[e("h4",{class:"font-medium text-black"}," Enable Telegram Notifications "),e("p",{class:"text-sm text-bodydark"}," Receive alerts about proxy status changes ")],-1)),e("label",F,[o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.telegramEnabled=l),type:"checkbox",class:"peer sr-only"},null,512),[[a,s.value.telegramEnabled]]),t[27]||(t[27]=e("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300"},null,-1))])]),s.value.telegramEnabled?(c(),C("div",R,[e("div",H,[e("div",null,[t[29]||(t[29]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"Bot Token",-1)),o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.telegramToken=l),type:"text",placeholder:"123456789:ABCdefGHIjklMNOpqrsTUVwxyz",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.telegramToken]]),t[30]||(t[30]=e("p",{class:"mt-1 text-xs text-bodydark"}," Get from @BotFather on Telegram ",-1))]),e("div",null,[t[31]||(t[31]=e("label",{class:"mb-2 block text-sm font-medium text-black"},"Chat ID",-1)),o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>s.value.telegramChatID=l),type:"text",placeholder:"123456789 or -1001234567890",class:"w-full rounded-md border border-stroke px-4 py-2 focus:border-primary focus:outline-none"},null,512),[[n,s.value.telegramChatID]]),t[32]||(t[32]=e("p",{class:"mt-1 text-xs text-bodydark"}," Your chat ID or channel ID ",-1))])]),e("div",z,[t[40]||(t[40]=e("h5",{class:"mb-3 font-medium text-black"}," Notification Types ",-1)),e("div",G,[e("label",$,[o(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>s.value.notifyOnDown=l),type:"checkbox",class:"mr-3 h-5 w-5 cursor-pointer"},null,512),[[a,s.value.notifyOnDown]]),t[33]||(t[33]=e("div",null,[e("span",{class:"font-medium text-black"},"Proxy Down"),e("p",{class:"text-xs text-bodydark"}," Alert when proxy goes offline ")],-1))]),e("label",q,[o(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>s.value.notifyOnRecovery=l),type:"checkbox",class:"mr-3 h-5 w-5 cursor-pointer"},null,512),[[a,s.value.notifyOnRecovery]]),t[34]||(t[34]=e("div",null,[e("span",{class:"font-medium text-black"},"Proxy Recovery"),e("p",{class:"text-xs text-bodydark"}," Alert when offline proxy comes back online ")],-1))]),e("label",Y,[o(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>s.value.notifyOnIPChange=l),type:"checkbox",class:"mr-3 h-5 w-5 cursor-pointer"},null,512),[[a,s.value.notifyOnIPChange]]),t[35]||(t[35]=e("div",null,[e("span",{class:"font-medium text-black"},"IP Change"),e("p",{class:"text-xs text-bodydark"}," Alert when proxy IP address changes ")],-1))]),e("label",J,[o(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>s.value.notifyOnIPStuck=l),type:"checkbox",class:"mr-3 h-5 w-5 cursor-pointer"},null,512),[[a,s.value.notifyOnIPStuck]]),t[36]||(t[36]=e("div",null,[e("span",{class:"font-medium text-black"},"IP Stuck"),e("p",{class:"text-xs text-bodydark"}," Alert when IP hasn't changed for >24 hours ")],-1))]),e("label",K,[o(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>s.value.notifyOnLowSpeed=l),type:"checkbox",class:"mr-3 h-5 w-5 cursor-pointer"},null,512),[[a,s.value.notifyOnLowSpeed]]),e("div",Q,[e("div",W,[t[37]||(t[37]=e("div",null,[e("span",{class:"font-medium text-black"},"Low Speed"),e("p",{class:"text-xs text-bodydark"}," Alert when speed drops below threshold ")],-1)),o(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>s.value.lowSpeedThreshold=l),disabled:!s.value.notifyOnLowSpeed,type:"number",min:"1",max:"1000",class:"ml-4 w-20 rounded-md border border-stroke px-2 py-1 text-sm focus:border-primary focus:outline-none disabled:opacity-50"},null,8,X),[[n,s.value.lowSpeedThreshold,void 0,{number:!0}]]),t[38]||(t[38]=e("span",{class:"ml-2 text-sm text-bodydark"},"Mbps",-1))])])]),e("label",Z,[o(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>s.value.notifyDailySummary=l),type:"checkbox",class:"mr-3 h-5 w-5 cursor-pointer"},null,512),[[a,s.value.notifyDailySummary]]),e("div",_,[e("div",ee,[t[39]||(t[39]=e("div",null,[e("span",{class:"font-medium text-black"},"Daily Summary"),e("p",{class:"text-xs text-bodydark"}," Daily report of proxy statistics ")],-1)),o(e("input",{"onUpdate:modelValue":t[17]||(t[17]=l=>s.value.dailySummaryTime=l),disabled:!s.value.notifyDailySummary,type:"time",class:"ml-4 rounded-md border border-stroke px-2 py-1 text-sm focus:border-primary focus:outline-none disabled:opacity-50"},null,8,te),[[n,s.value.dailySummaryTime]])])])])])]),e("div",se,[e("button",{type:"button",onClick:h,disabled:!s.value.telegramToken||!s.value.telegramChatID||i.value,class:"inline-flex items-center justify-center rounded-md bg-secondary px-4 py-2 text-center font-medium text-white hover:bg-opacity-90 disabled:opacity-50"},[d(b(N),{class:U(["mr-2 h-4 w-4",{"animate-pulse":i.value}])},null,8,["class"]),y(" "+x(i.value?"Sending...":"Test Notification"),1)],8,le)])])):P("",!0)])]),_:1}),e("div",oe,[e("button",{type:"submit",disabled:u.value,class:"inline-flex items-center justify-center rounded-md bg-primary px-6 py-3 text-center font-medium text-white hover:bg-opacity-90 disabled:opacity-50"},[d(b(L),{class:"mr-2 h-4 w-4"}),y(" "+x(u.value?"Saving...":"Save Settings"),1)],8,ne)])],32)])]),_:1}))}};export{ce as default};
